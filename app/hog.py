import base64

import cv2
import numpy as np


# Load the image as grayscale
# img_gray = cv2.imread('75.jpg', 0)
def gethog(img):
    new_img = cv2.resize(img,(128,128),interpolation = cv2.INTER_AREA)
    win_size = new_img.shape
    cell_size = (8, 8)
    block_size = (16, 16)
    block_stride = (8, 8)
    num_bins = 9

    hog = cv2.HOGDescriptor(win_size, block_size, block_stride,cell_size, num_bins)

    hog_descriptor = hog.compute(new_img)
    return hog_descriptor
    # print ('HOG Descriptor:', hog_descriptor)

# b64 = 'data:image/jpeg;base64,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'
# encode_data = b64.split(',')[1]
# nparr = np.fromstring(base64.b64decode(encode_data),np.uint8)
# nparr = np.fromstring(base64.b64decode(encode_data),np.uint8)
# img = cv2.imdecode(nparr,cv2.IMREAD_GRAYSCALE)

# print(gethog(img))